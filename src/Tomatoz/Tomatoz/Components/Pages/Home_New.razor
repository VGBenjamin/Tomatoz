@page "/"
@using Tomatoz.Shared.DTOs
@inject HttpClient Http

<PageTitle>Tomatoz - Wiki Collaboratif sur les Tomates</PageTitle>

<!-- Hero Section with enhanced botanical inspiration -->
<section class="section-hero relative py-24 lg:py-32 text-white overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-botanical-600 via-sage-600 to-leaf-700"></div>
    <div class="absolute inset-0 bg-pattern opacity-20"></div>
    <div class="absolute inset-0 bg-nature-pattern opacity-10"></div>
    
    <div class="relative container-app text-center">
        <div class="animate-fade-in max-w-5xl mx-auto">
            <!-- Enhanced nature badge -->
            <div class="flex justify-center mb-8">
                <div class="nature-badge text-botanical bg-white/95 backdrop-blur-sm border border-white/30">
                    üå± Cultivez votre savoir botanique
                </div>
            </div>
            
            <!-- Logo icon with improved design -->
            <div class="flex justify-center mb-8">
                <div class="w-28 h-28 bg-white/20 backdrop-blur-sm organic-border flex items-center justify-center shadow-2xl animate-bounce-gentle border border-white/30">
                    <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C8.69 2 6 4.69 6 8c0 1.5.5 2.88 1.33 4C6.5 13.5 6 15.5 6 18c0 2.21 1.79 4 4 4h4c2.21 0 4-1.79 4-4 0-2.5-.5-4.5-1.33-6C17.5 10.88 18 9.5 18 8c0-3.31-2.69-6-6-6z"/>
                    </svg>
                </div>
            </div>
            
            <!-- Main title with better typography -->
            <h1 class="text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-display font-bold mb-6 text-shadow-lg tracking-tight">
                Tomatoz
            </h1>
            
            <!-- Subtitle with botanical elements -->
            <p class="text-xl md:text-2xl lg:text-3xl mb-6 text-white/95 font-medium leading-relaxed flex items-center justify-center gap-3 flex-wrap">
                <span class="text-3xl">üçÖ</span>
                <span>Wiki collaboratif sur les tomates</span>
                <span class="text-3xl">üåø</span>
            </p>
            
            <!-- Description with better readability -->
            <p class="text-lg md:text-xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed font-light">
                D√©couvrez, partagez et cultivez votre passion pour les tomates. 
                Une encyclop√©die vivante cr√©√©e par une communaut√© de jardiniers passionn√©s.
            </p>
            
            <!-- Call-to-action buttons with improved alignment -->
            <div class="flex flex-col sm:flex-row gap-6 justify-center items-center mb-16">
                <a href="/varieties" class="btn btn-lg bg-white text-botanical-700 hover:bg-white/95 hover:text-botanical-800 shadow-2xl hover:shadow-3xl transform hover:-translate-y-2 transition-all duration-300 min-w-[240px] font-semibold">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    Explorer les vari√©t√©s
                </a>
                <a href="/varieties/new" class="btn btn-lg glass text-white border-2 border-white/40 hover:bg-white/20 hover:border-white/60 shadow-2xl hover:shadow-3xl transform hover:-translate-y-2 transition-all duration-300 min-w-[240px] font-semibold backdrop-blur-md">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                    </svg>
                    Ajouter une vari√©t√©
                </a>
            </div>
            
            <!-- Quick search bar in hero -->
            <div class="max-w-2xl mx-auto">
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-6 w-6 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    <input type="search" 
                           class="block w-full pl-14 pr-4 py-5 bg-white/15 backdrop-blur-md border-2 border-white/30 rounded-2xl text-white placeholder-white/70 focus:outline-none focus:ring-4 focus:ring-white/30 focus:border-white/50 transition-all duration-300 text-lg font-medium shadow-xl"
                           placeholder="Rechercher une vari√©t√© de tomate...">
                </div>
                <p class="text-sm text-white/80 mt-4 font-medium">
                    Par exemple : <span class="text-white/95 font-semibold bg-white/10 px-2 py-1 rounded">cornichon</span>, 
                    <span class="text-white/95 font-semibold bg-white/10 px-2 py-1 rounded">purple haze</span>, 
                    <span class="text-white/95 font-semibold bg-white/10 px-2 py-1 rounded">cherry</span>
                </p>
            </div>
        </div>
    </div>
    
    <!-- Scroll indicator with better animation -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <div class="w-8 h-12 border-2 border-white/40 rounded-full flex justify-center backdrop-blur-sm bg-white/10">
            <div class="w-1.5 h-3 bg-white/80 rounded-full mt-2 animate-pulse"></div>
        </div>
    </div>
</section>

<!-- Stats Section with improved design -->
<section class="py-20 bg-gradient-to-b from-white to-sage-50/50">
    <div class="container-app">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16">
            <!-- Stat 1: Documented Varieties -->
            <div class="text-center animate-slide-up group">
                <div class="w-20 h-20 bg-gradient-to-br from-tomato-500 to-tomato-600 organic-border flex items-center justify-center mx-auto mb-6 shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                </div>
                <div class="text-4xl font-display font-bold text-tomato-600 mb-2">2,400+</div>
                <div class="text-botanical-700 font-semibold text-lg">Vari√©t√©s document√©es</div>
                <div class="text-sm text-botanical-500 mt-1">Et toujours plus chaque jour !</div>
            </div>

            <!-- Stat 2: Active Contributors -->
            <div class="text-center animate-slide-up animation-delay-200 group">
                <div class="w-20 h-20 bg-gradient-to-br from-sage-500 to-sage-600 organic-border flex items-center justify-center mx-auto mb-6 shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 715.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 919.288 0M15 7a3 3 0 11-6 0 3 3 0 616 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                </div>
                <div class="text-4xl font-display font-bold text-sage-600 mb-2">15,000+</div>
                <div class="text-botanical-700 font-semibold text-lg">Jardiniers actifs</div>
                <div class="text-sm text-botanical-500 mt-1">Une vraie communaut√© passionn√©e</div>
            </div>

            <!-- Stat 3: Reviews -->
            <div class="text-center animate-slide-up animation-delay-400 group">
                <div class="w-20 h-20 bg-gradient-to-br from-sunshine-500 to-sunshine-600 organic-border flex items-center justify-center mx-auto mb-6 shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                </div>
                <div class="text-4xl font-display font-bold text-sunshine-600 mb-2">45,000+</div>
                <div class="text-botanical-700 font-semibold text-lg">Avis partag√©s</div>
                <div class="text-sm text-botanical-500 mt-1">Exp√©riences authentiques v√©rifi√©es</div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section with botanical-inspired design -->
<section class="py-24 bg-botanical-gradient">
    <div class="container-app">
        <div class="text-center mb-20">
            <div class="nature-badge mx-auto mb-6">
                <span class="leaf-decoration">Fonctionnalit√©s</span>
            </div>
            <h2 class="text-4xl md:text-5xl font-display font-bold text-botanical-800 mb-6">
                Pourquoi choisir Tomatoz ?
            </h2>
            <p class="text-xl text-botanical-600 max-w-3xl mx-auto leading-relaxed">
                Une plateforme moderne et collaborative con√ßue par et pour les passionn√©s de jardinage
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Feature 1 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-tomato-500 to-red-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    üîç Recherche avanc√©e
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Trouvez facilement la vari√©t√© parfaite gr√¢ce √† nos filtres intelligents : couleur, forme, r√©sistance aux maladies, p√©riode de r√©colte...
                </p>
            </div>

            <!-- Feature 2 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-sage-500 to-leaf-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 715.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 919.288 0M15 7a3 3 0 11-6 0 3 3 0 616 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    ü§ù Collaboration active
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Participez √† l'enrichissement de la base de donn√©es. Syst√®me de validation par la communaut√© et suivi des contributions.
                </p>
            </div>

            <!-- Feature 3 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-sunshine-500 to-yellow-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    ‚úÖ Qualit√© garantie
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Informations v√©rifi√©es par des experts. Syst√®me de notation et d'avis pour une fiabilit√© maximale des donn√©es.
                </p>
            </div>

            <!-- Feature 4 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    üì∏ Galerie visuelle
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Photos haute qualit√© de chaque vari√©t√© : plants, fruits, tranches. Visualisez avant de planter !
                </p>
            </div>

            <!-- Feature 5 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-pink-500 to-rose-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    üìÖ Suivi saisonnier
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Calendrier de culture d√©taill√© pour chaque vari√©t√©. Ne ratez plus jamais le bon moment pour semer ou r√©colter.
                </p>
            </div>

            <!-- Feature 6 -->
            <div class="botanical-card organic-border p-8 group">
                <div class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 organic-border-alt flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-display font-semibold text-botanical-800 mb-4">
                    üå± Conseils experts
                </h3>
                <p class="text-botanical-600 leading-relaxed">
                    Guides de culture, conseils de ma√Ætres jardiniers et astuces pour optimiser vos r√©coltes selon votre r√©gion.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Varieties Section with botanical design -->
@if (featuredVarieties?.Any() == true)
{
    <section class="py-24 bg-white">
        <div class="container-app">
            <div class="text-center mb-20">
                <div class="nature-badge mx-auto mb-6">
                    <span class="leaf-decoration">S√©lection</span>
                </div>
                <h2 class="text-4xl md:text-5xl font-display font-bold text-botanical-800 mb-6">
                    Vari√©t√©s populaires
                </h2>
                <p class="text-xl text-botanical-600 max-w-3xl mx-auto leading-relaxed">
                    D√©couvrez les vari√©t√©s les mieux not√©es par notre communaut√© de jardiniers passionn√©s
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @foreach (var variety in featuredVarieties.Take(6))
                {
                    <div class="botanical-card organic-border overflow-hidden group">
                        @if (variety.Photos?.Any() == true)
                        {
                            <div class="relative overflow-hidden">
                                <img src="@variety.Photos.First().FilePath" 
                                     class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" 
                                     alt="@variety.CommonName">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
                                <div class="absolute top-4 right-4">
                                    <div class="nature-badge bg-white/90 backdrop-blur-sm text-botanical-700">
                                        <svg class="w-3 h-3 mr-1 text-sunshine-500" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                                        </svg>
                                        @variety.AverageRating.ToString("F1")
                                    </div>
                                </div>
                                <div class="absolute bottom-4 left-4">
                                    <div class="flex gap-2">
                                        <span class="px-2 py-1 bg-white/90 backdrop-blur-sm text-botanical-700 text-xs rounded-full font-medium">
                                            üçÖ @variety.GrowthType
                                        </span>
                                    </div>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="h-48 bg-gradient-to-br from-sage-100 to-botanical-100 flex items-center justify-center">
                                <div class="text-center">
                                    <svg class="w-16 h-16 text-sage-400 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C8.69 2 6 4.69 6 8c0 1.5.5 2.88 1.33 4C6.5 13.5 6 15.5 6 18c0 2.21 1.79 4 4 4h4c2.21 0 4-1.79 4-4 0-2.5-.5-4.5-1.33-6C17.5 10.88 18 9.5 18 8c0-3.31-2.69-6-6-6z"/>
                                    </svg>
                                    <p class="text-sage-500 text-sm">Photo √† venir</p>
                                </div>
                            </div>
                        }
                        
                        <div class="p-6">
                            <h3 class="text-xl font-display font-semibold text-botanical-800 mb-2">
                                @variety.CommonName
                            </h3>
                            @if (!string.IsNullOrEmpty(variety.ScientificName))
                            {
                                <p class="text-sm text-botanical-500 italic mb-3">@variety.ScientificName</p>
                            }
                            
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="px-3 py-1 bg-tomato-100 text-tomato-700 text-xs rounded-full font-medium">
                                    üå± @variety.Color
                                </span>
                                <span class="px-3 py-1 bg-sage-100 text-sage-700 text-xs rounded-full font-medium">
                                    üìê @variety.Shape
                                </span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-1">
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <svg class="w-4 h-4 @(i <= variety.AverageRating ? "text-sunshine-400" : "text-gray-300")" 
                                             fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                                        </svg>
                                    }
                                    <span class="text-sm text-botanical-600 ml-2">(@variety.AverageRating.ToString("F1"))</span>
                                </div>
                                <a href="/varieties/@variety.Id" class="btn-botanical text-sm px-4 py-2 rounded-full">
                                    D√©couvrir
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
            
            <div class="text-center mt-12">
                <a href="/varieties" class="btn btn-lg btn-botanical">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0l-4-4m4 4l-4 4"/>
                    </svg>
                    Voir toutes les vari√©t√©s
                </a>
            </div>
        </div>
    </section>
}

<!-- CTA Section with botanical theme -->
<section class="py-24 bg-gradient-to-br from-sage-600 via-botanical-600 to-leaf-600 relative overflow-hidden">
    <div class="absolute inset-0 bg-nature-pattern opacity-20"></div>
    
    <div class="relative container-app text-center text-white">
        <div class="max-w-4xl mx-auto">
            <div class="nature-badge bg-white/10 backdrop-blur-sm text-white mb-8 mx-auto">
                üå± Communaut√© grandissante
            </div>
            
            <h2 class="text-4xl md:text-5xl font-display font-bold mb-6 text-shadow-lg">
                Rejoignez la communaut√© Tomatoz
            </h2>
            <p class="text-xl md:text-2xl mb-8 text-white/90 leading-relaxed">
                Partagez vos connaissances, d√©couvrez de nouvelles vari√©t√©s et connectez-vous avec des jardiniers passionn√©s du monde entier.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                <a href="/Account/Register" class="btn btn-lg bg-white text-botanical-700 hover:bg-gray-100 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                    </svg>
                    Cr√©er un compte
                </a>
                <a href="/varieties/new" class="btn btn-lg glass text-white border-white/30 hover:bg-white/20 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                    </svg>
                    Contribuer maintenant
                </a>
            </div>
            
            <!-- Quick stats with botanical feel -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-2xl mx-auto">
                <div class="text-center">
                    <div class="text-3xl font-bold mb-1">üçÖ 2,400+</div>
                    <div class="text-white/80 text-sm">Vari√©t√©s document√©es</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold mb-1">üë• 15,000+</div>
                    <div class="text-white/80 text-sm">Membres actifs</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold mb-1">üìù 45,000+</div>
                    <div class="text-white/80 text-sm">Contributions</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section with enhanced botanical design -->
<section class="py-24 bg-botanical-gradient">
    <div class="container-app">
        <div class="max-w-4xl mx-auto text-center">
            <!-- Newsletter header -->
            <div class="nature-badge mx-auto mb-8">
                <svg class="w-4 h-4 mr-2 text-botanical-600" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M3 8l7.89 4.26c.67.36 1.45.36 2.12 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
                <span class="leaf-decoration">Newsletter</span>
            </div>
            
            <h2 class="text-3xl md:text-4xl font-display font-bold text-botanical-800 mb-6">
                Cultivez votre savoir avec notre newsletter
            </h2>
            <p class="text-lg md:text-xl text-botanical-600 mb-12 max-w-3xl mx-auto leading-relaxed">
                Recevez chaque semaine les nouvelles vari√©t√©s, conseils de jardinage de saison et actualit√©s de notre communaut√© botanique.
            </p>
            
            <!-- Newsletter form with botanical styling -->
            <div class="max-w-lg mx-auto">
                <form class="flex flex-col sm:flex-row gap-4 mb-6">
                    <div class="flex-1 relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="h-5 w-5 text-botanical-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 8.959 0 01-4.5 1.207"/>
                            </svg>
                        </div>
                        <input type="email" 
                               placeholder="votre@email.com" 
                               class="block w-full pl-10 pr-3 py-4 border-2 border-sage-200 organic-border bg-white focus:ring-2 focus:ring-botanical-500 focus:border-botanical-500 transition-all duration-200 text-lg placeholder-botanical-400">
                    </div>
                    <button type="submit" 
                            class="btn btn-lg btn-botanical px-8 whitespace-nowrap organic-border">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                        S'abonner gratuitement
                    </button>
                </form>
                
                <p class="text-sm text-botanical-500 leading-relaxed">
                    ‚ú® <strong>100% gratuit</strong> ‚Ä¢ üå± Pas de spam ‚Ä¢ üö™ D√©sabonnement en un clic
                </p>
                
                <!-- Benefits with botanical styling -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 text-center">
                    <div class="botanical-card organic-border p-6">
                        <div class="w-12 h-12 bg-tomato-100 organic-border-alt flex items-center justify-center mb-3 mx-auto">
                            <svg class="w-6 h-6 text-tomato-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-botanical-800 mb-1">üçÖ Nouvelles vari√©t√©s</h3>
                        <p class="text-sm text-botanical-600">D√©couvrez en premier les derni√®res additions</p>
                    </div>
                    <div class="botanical-card organic-border p-6">
                        <div class="w-12 h-12 bg-sage-100 organic-border-alt flex items-center justify-center mb-3 mx-auto">
                            <svg class="w-6 h-6 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-botanical-800 mb-1">üìÖ Conseils saisonniers</h3>
                        <p class="text-sm text-botanical-600">Que planter et quand le faire</p>
                    </div>
                    <div class="botanical-card organic-border p-6">
                        <div class="w-12 h-12 bg-sunshine-100 organic-border-alt flex items-center justify-center mb-3 mx-auto">
                            <svg class="w-6 h-6 text-sunshine-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 715.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 919.288 0M15 7a3 3 0 11-6 0 3 3 0 616 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-botanical-800 mb-1">üåø Actualit√©s communaut√©</h3>
                        <p class="text-sm text-botanical-600">Les histoires de nos jardiniers</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@code {
    private List<TomatoVarietyDto>? featuredVarieties;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            // Load some featured varieties for the homepage
            var response = await Http.GetFromJsonAsync<PaginatedResultDto<TomatoVarietyDto>>("/api/v1/tomatovarieties?PageSize=6&SortBy=rating&SortDescending=true");
            featuredVarieties = response?.Items;
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error loading featured varieties: {ex.Message}");
            featuredVarieties = new List<TomatoVarietyDto>();
        }
    }
}
